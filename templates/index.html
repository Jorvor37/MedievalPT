x<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personality Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .question {
            margin-bottom: 20px;
        }
        .results {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Personality Test</h1>
    <div id="questions">
        <!-- Questions will be injected here by JavaScript -->
    </div>
    <button onclick="submitAnswers()">Submit</button>
    <div class="results" id="results"></div>
    <script>
        const questions = [
            "I see myself as someone who is reserved.",
            "I see myself as someone who is generally trusting."
            // Add more questions here
        ];

        const container = document.getElementById('questions');
        questions.forEach((question, index) => {
            const div = document.createElement('div');
            div.classList.add('question');
            div.innerHTML = `
                <p>${question}</p>
                <input type="radio" name="q${index}" value="1"> Agree<br>
                <input type="radio" name="q${index}" value="0"> Disagree<br>
            `;
            container.appendChild(div);
        });

        function submitAnswers() {
            const answers = [];
            questions.forEach((_, index) => {
                const radios = document.getElementsByName(`q${index}`);
                for (let radio of radios) {
                    if (radio.checked) {
                        answers.push(parseInt(radio.value));
                        break;
                    }
                }
            });

            fetch('/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ answers }),
            })
            .then(response => response.json())
            .then(data => {
                const resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = '';
                for (const [dimension, score] of Object.entries(data)) {
                    const p = document.createElement('p');
                    p.textContent = `${dimension.charAt(0).toUpperCase() + dimension.slice(1)}: ${score}`;
                    resultsDiv.appendChild(p);
                }
            })
            .catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>
